<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Edit Folder</title>
  <meta name="description" content="Bookmarx">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/imgs/tp.png">
  <script src="/js/jquery.js"></script>
  <link rel="stylesheet" href="/css/style.css">

</head>

<body class="black-background">
  <nav>
    <ul>
      <li><a href="/index.html">BookMarx</a></li>
    </ul>
  </nav>
  <section class="slide">
    <div class="formcontainer column-40">
      <a class="form_backbutton" href="/bookmarx"><img src="/img/ic_arrow_back_black_48dp_2x.png"></a>
      <form action="/bookmarx/updatefolder/<%= folder.id %>" onsubmit="return validateAddFolder()" method="POST">
        <h1>Edit <%= folder.name %></h1>
        <div class="inputgroup">
          <input type="text" name="newname" value="<%= folder.name %>" required/>
          <span class="bar"></span>
          <label>Title</label>
          <span class="errMsg hide" id="folder_errlabel">Please enter a folder name</label>
        </div>

        <div class="inputgroup actionContainer">
          <input type="submit" class="boxButton okayButton" value="Save">
          <a class="boxButton cancelButton" href="/bookmarx">Cancel</a>
        </div>
      </form>

      <form action="/bookmarx/deletefolder" method="POST">
        <div class="inputgroup actionContainer">
          <input type="hidden" name="folder_id" value="<%= folder.id %>">
          <input type="submit" class="boxButton deleteButton" value="Delete">
        </div>
      </form>

      </form>
    </div>
  </section>
<script>
  function validateFolderName() {
    var folder =$('.inputgroup').find('input[name="newname"]').val();
    if (!folder || !folder.trim()) {
      $('#folder_errlabel').removeClass('hide');
      return false;
    }
      $('#folder_errlabel').addClass('hide');
    return true;
  }
  function validateAddFolder() {
    return validateFolderName();
  }
</script>
</body>
</html>
